import{a as K}from"./axios-08622986.js";import{_ as O,l as Q,r as g,k as B,o as W,a as n,J as X,b as w,c as D,e,w as t,d as i,u as s,g as a,i as Y,f as Z,z as ee,t as I,p as te,h as le}from"./index-e22e787b.js";const b=h=>(te("data-v-ded17708"),h=h(),le(),h),oe={class:"card-header"},ae=b(()=>i("div",null,[i("span",{style:{color:"#999","font-size":"14px"}},"设置"),a(),i("i",{style:{margin:"0 8px",color:"#dddee1","font-size":"12px"}},"/"),i("span",{style:{"font-weight":"700",color:"#495060"}}," 商品列表")],-1)),ne={style:{"font-size":"12px"}},se=b(()=>i("span",{style:{"font-weight":"700",color:"#495060"}}," 商品查询",-1)),ie=b(()=>i("span",{style:{"font-weight":"700",color:"#495060"}},"账号列表",-1)),de=["src"],re={style:{"font-size":"12px"}},pe={style:{"font-size":"12px"}},ue=b(()=>i("br",null,null,-1)),_e={style:{"font-size":"12px"}},ce={key:0},me={key:1},fe={__name:"triplist",setup(h){var E=Q(),j=r=>{E.push({name:"goodlist",params:{id:"edit"}})};g("");let z=g([]);var V=g(!0),v=g("");g([]);var k=g(!1);const _=B({name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""});var c=B({page:1,title:"",u_id:""}),y=B({total:0,pagesize:0});const x=()=>{K.post("/line/triplist",{...c}).then(r=>{V.value=!1,k.value=!1,z.value=r.data.m.data,y.total=r.data.m.total,y.pagesize=r.data.m.per_page,z.value.forEach((o,d)=>{o.index=d+1})})};var N=r=>{c.page=r,x()};W(()=>{x()});var R=()=>{k.value=!0,V.value=!0,c.page=1,x()},A=()=>{c.title="",x()},F=r=>{console.log(r)},J=(r,o)=>{var d=this.restaurants.value,C=r?d.filter(this.createFilter(r)):d;o(C)};return(r,o)=>{const d=n("el-button"),C=n("el-input"),m=n("el-col"),L=n("el-autocomplete"),f=n("el-option"),S=n("el-select"),M=n("el-row"),U=n("el-card"),p=n("el-table-column"),P=n("el-tooltip"),u=n("el-dropdown-item"),T=n("el-dropdown-menu"),$=n("el-dropdown"),q=n("el-table"),G=n("el-pagination"),H=X("loading");return w(),D("div",null,[e(U,{class:"box-card"},{default:t(()=>[i("div",oe,[ae,i("span",ne,[e(d,{onClick:o[0]||(o[0]=l=>s(j)("666")),type:"primary",style:{"font-size":"12px"}},{default:t(()=>[a("+ 新增商品")]),_:1})])]),e(U,{class:"box-card",style:{"margin-top":"30px"},shadow:"hover"},{header:t(()=>[se]),default:t(()=>[i("div",null,[e(M,{gutter:20},{default:t(()=>[e(m,{span:5},{default:t(()=>[e(C,{style:{"font-size":"12px"},modelValue:s(c).title,"onUpdate:modelValue":o[1]||(o[1]=l=>s(c).title=l),placeholder:"商品名称"},null,8,["modelValue"])]),_:1}),e(m,{span:5},{default:t(()=>[e(L,{modelValue:s(v),"onUpdate:modelValue":o[2]||(o[2]=l=>Y(v)?v.value=l:v=l),"fetch-suggestions":s(J),placeholder:"请输入商家名称",onSelect:s(F)},null,8,["modelValue","fetch-suggestions","onSelect"])]),_:1}),e(m,{span:5},{default:t(()=>[e(S,{modelValue:_.region1,"onUpdate:modelValue":o[3]||(o[3]=l=>_.region1=l),placeholder:"线下物流"},{default:t(()=>[e(f,{label:"线上核销",value:"shanghai"}),e(f,{label:"线下物流",value:"beijing"})]),_:1},8,["modelValue"])]),_:1}),e(m,{span:5},{default:t(()=>[e(S,{modelValue:_.region2,"onUpdate:modelValue":o[4]||(o[4]=l=>_.region2=l),placeholder:"商品状态"},{default:t(()=>[e(f,{label:"上架",value:"shanghai"}),e(f,{label:"下架",value:"beijing"})]),_:1},8,["modelValue"])]),_:1}),e(m,{span:5,style:{"margin-top":"20px"}},{default:t(()=>[e(S,{modelValue:_.region3,"onUpdate:modelValue":o[5]||(o[5]=l=>_.region3=l),placeholder:"是否推荐"},{default:t(()=>[e(f,{label:"是",value:"shanghai"}),e(f,{label:"否",value:"beijing"})]),_:1},8,["modelValue"])]),_:1}),e(m,{span:5,style:{"margin-top":"20px"}},{default:t(()=>[e(d,{onClick:s(R),type:"primary",style:{"font-size":"12px"},loading:s(k)},{default:t(()=>[a("查询")]),_:1},8,["onClick","loading"]),e(d,{size:"small",onClick:s(A)},{default:t(()=>[a("清空搜索")]),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1}),Z((w(),ee(U,{class:"box-card",style:{"margin-top":"30px"},shadow:"hover"},{header:t(()=>[ie]),default:t(()=>[e(q,{data:s(z),type:"index",style:{width:"100%"}},{default:t(()=>[e(p,{fixed:"",prop:"index",label:"#",width:"50",align:"center"}),e(p,{prop:"",label:"名称",width:"300"},{default:t(l=>[i("img",{style:{width:"50px",height:"30px"},src:l.row.topimg,alt:""},null,8,de),i("div",re,I(l.row.title),1),e(d,{type:"primary",size:"small",style:{"font-size":"12px",position:"absolute",right:"5px",bottom:"5px"}},{default:t(()=>[a("预览")]),_:1})]),_:1}),e(p,{prop:"shop",label:"所属商家",width:"100",align:"center"}),e(p,{prop:"u_name",label:"编辑员",width:"100",align:"center"}),e(p,{prop:"",label:"参考价(元)",width:"100",align:"center"},{default:t(l=>[i("span",pe,"原价:"+I(l.row.original_price),1),ue,i("span",_e,"现价:"+I(l.row.present_price),1)]),_:1}),e(p,{prop:"ordercount",label:"订单数量",width:"100",align:"center"}),e(p,{prop:"",label:"状态",align:"center",width:"200"},{default:t(l=>[l.row.status==2?(w(),D("div",ce,[e(d,{type:"primary",size:"small"},{default:t(()=>[a("已上架")]),_:1})])):(w(),D("div",me,[e(d,{type:"warning",size:"small"},{default:t(()=>[a("已下架")]),_:1})]))]),_:1}),e(p,{fixed:"right",prop:"",label:"操作",width:"200"},{default:t(l=>[e(P,{class:"box-item",effect:"dark",content:"编辑",placement:"bottom","show-after":"1",size:"small"},{default:t(()=>[e(d,{onClick:o[6]||(o[6]=ge=>s(j)("666")),type:"primary",size:"small",style:{"font-size":"12px",color:"white"}},{default:t(()=>[a("✎")]),_:1})]),_:1}),e(d,{type:"primary",size:"small",style:{"margin-right":"5px"}},{default:t(()=>[a("二维码背景")]),_:1}),e($,{"hide-on-click":!1},{dropdown:t(()=>[e(T,null,{default:t(()=>[e(u,null,{default:t(()=>[a("下架")]),_:1}),e(u,null,{default:t(()=>[a("复制产品")]),_:1}),e(u,null,{default:t(()=>[a("设置权重")]),_:1}),e(u,null,{default:t(()=>[a("设置站点")]),_:1}),e(u,null,{default:t(()=>[a("分配编辑")]),_:1}),e(u,null,{default:t(()=>[a("分配商家")]),_:1}),e(u,null,{default:t(()=>[a("分配核销员")]),_:1}),e(u,null,{default:t(()=>[a("删除")]),_:1})]),_:1})]),default:t(()=>[e(d,{type:"primary",size:"small",style:{"font-size":"12px",color:"white"}},{default:t(()=>[a("▼")]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),i("div",null,[e(G,{background:"",layout:"prev,pager,next",total:s(y).total,"page-size":s(y).pagesize,onCurrentChange:s(N)},null,8,["total","page-size","onCurrentChange"])])]),_:1})),[[H,s(V)]])]),_:1})])}}},ye=O(fe,[["__scopeId","data-v-ded17708"]]);export{ye as default};
